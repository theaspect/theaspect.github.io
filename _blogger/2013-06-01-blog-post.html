---
layout: post
title: Вопросы читабельности кода
date: '2013-06-01T16:09:00.000+07:00'
author: Constantine Linnick
tags:
- development
modified_time: '2014-04-10T15:47:19.649+07:00'
thumbnail: http://4.bp.blogspot.com/-qwBj4C9knLU/Uamzp-NwPrI/AAAAAAAAB7I/LQrMqEDofRg/s72-c/Screenshot+from+2013-06-01+15:39:18.png
blogger_id: tag:blogger.com,1999:blog-372595778394672936.post-3814566728165322355
blogger_orig_url: http://blog.blzr.me/2013/06/blog-post.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Схороненный псто из умершего базза.<br /><a href="http://4.bp.blogspot.com/-qwBj4C9knLU/Uamzp-NwPrI/AAAAAAAAB7I/LQrMqEDofRg/s1600/Screenshot+from+2013-06-01+15:39:18.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://4.bp.blogspot.com/-qwBj4C9knLU/Uamzp-NwPrI/AAAAAAAAB7I/LQrMqEDofRg/s1600/Screenshot+from+2013-06-01+15:39:18.png" /></a><br /><div dir="ltr" style="text-align: left;" trbidi="on"><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: right; margin-left: 1em; text-align: right;"><tbody><tr><td style="text-align: center;"><a href="http://www.dirtymonkey.co.uk/blog/zen-of-python-poster" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" src="http://media.dirtymonkey.co.uk/img/python-poster-bw.png" height="320" width="225" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">PEP-20</td></tr></tbody></table>Наткнулся на интересную <a href="http://avva.livejournal.com/2633281.html">статью</a> у avva, про избыточность кода с целью повышения читабельности. А потом и <a class="g-profile" href="https://plus.google.com/117194474005972782539" target="_blank">+Евгений Доронин</a> запостил про <a href="https://plus.google.com/u/0/117194474005972782539/posts/ba6iepsB4Ny">законы Мерфи</a> для разработки. Пару лет назад я тоже задавался подобным вопросом. До сих пор не нашел однозначного ответа, хотя и <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">//do nothing</span> с тех пор эволюционировал в <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">log.error("Inconsistent state {}",...)</span> или <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">throw new IllegalStateException</span>, чтобы сильно умный статический анализатор заткнулся и не предлагал убрать пустые условия и максимально быстро упасть если забыли, после добавления enum, также добавить обработку этого значения.<br /><br />Тернарные операторы по возможности избегаю, а уж если там сложные выражения, с подусловиям, то гораздо читабельней становится замена их на обычный <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">if-else</span>.<br /><h4 style="text-align: left;">Родовая память</h4><a href="http://2.bp.blogspot.com/-nnHEQDS4JSY/Uam5_JEwycI/AAAAAAAAB7Y/tYiagZzsBsQ/s1600/Screenshot+from+2013-06-01+16:05:37.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://2.bp.blogspot.com/-nnHEQDS4JSY/Uam5_JEwycI/AAAAAAAAB7Y/tYiagZzsBsQ/s1600/Screenshot+from+2013-06-01+16:05:37.png" /></a>Продолжаю читать "Идеальные команды", и там Гради Буч высказал интересную мысль про неявные решения.<br /><i><br /></i> <i>И теперь, поскольку <a href="http://blog.blzr.me/2012/10/blog-post_13.html">мир не стоит на месте</a>, встает интересный вопрос – та архитектура не была подробно отражена в документации, зачастую никакой документации вообще не было, и хотя код верен, он<br />не может быть истиной в последней инстанции, потому что не&nbsp; отражает ни логического обоснования, ни аспектов, по которым принималось компромиссное решение, ни любых других вещей, которые невозможно вывести из отдельных строк кода; есть схемы, выходящие за пределы самих этих строк. Такие вещи обычно сохраняются в «родовой памяти». И в любой организации есть патриархи, которые работают там уже давно и лично помнят эти обоснования и возникавшие междисциплинарные вопросы. Сложность здесь в том, что организация продолжает расти, люди перемещаются, и этот адресат может, фактически, уже на ходиться в другом месте.<br />То есть помимо проблемы временного и географического распределения есть проблема утечки интеллектуальной собственности, потому что хранить ее в «родовой памяти» – страшно дорого, точнее, память эта ничего не стоит, но извлечь из нее информацию может оказаться очень затратным, и чем меньше этой памяти, тем она дороже.</i><br /><br />Такие вещи нужно выносить из головы и в код, давая обоснование принятым решениям и описывая <a href="http://blog.blzr.me/2012/12/blog-post_26.html">допущения</a> в которых эти решения принимались. Такие послания на порядок повышают читабельность кода.<br /><br />Порой решение принять нельзя потому, что не хватает информации, либо времени на детальный анализ. Такие места описываются через <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">TODO</span> или <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">FIXME</span> с описанием проблемы и текущей ситуации:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// TODO Нужно ли это внести в контейнер?</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// TODO подумать как прикрутить локализацию </span><br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// FIXME не уверен, что первоначальное заполнение списка должно выполняться по событию</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// FIXME без этой строчки список почему-то не инициализируется</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// FIXME when resolved https://javafx-jira.kenai.com/browse/RT-19089</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// FIXME пока нет нормального чего-то, делаем так-то</span><br /><br />Когда случается проблема, то такие места выделенные ядовито зеленым цветом сразу привлекают внимание.</div></div>