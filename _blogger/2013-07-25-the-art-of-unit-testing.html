---
layout: post
title: The Art of Unit Testing
date: '2013-07-25T12:25:00.001+07:00'
author: Constantine Linnick
tags:
- книги
- тестирование
- development
modified_time: '2014-04-10T15:47:19.620+07:00'
blogger_id: tag:blogger.com,1999:blog-372595778394672936.post-132237437878849100
blogger_orig_url: http://blog.blzr.me/2013/07/the-art-of-unit-testing.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both; text-align: center;"><a href="http://www.hanselman.com/blog/content/binary/WindowsLiveWriter/HanselminutesPodcast169TheArtofUnitTesti_131FC/ArtOfUnitTesting_3.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="320" src="http://www.hanselman.com/blog/content/binary/WindowsLiveWriter/HanselminutesPodcast169TheArtofUnitTesti_131FC/ArtOfUnitTesting_3.jpg" width="256" /></a></div>Великолепная книга от Roy Osherove. Однозначно попадает в категорию 'И почему она не попалась мне пять лет назад?', однозначный мастрид. Не смотря на то, что все примеры идут для .NET, польза будет и для явистов, поскольку принципы работы отличаются только деталями.<br /><br />Книга состоит из 4 разделов: базовые принципы, моки и стабы, тестируемый код, внедрение тестирования в легаси среде. И если первые два раздела я уже освоил, достаточно натанцевавшись по граблям (читал чтобы убедиться, что ничего не пропустил), то последние дали богатую пищу для размышлений.<br /><br /><i>A unit test should have the following properties:&nbsp;</i><br /><i>❂ It should be automated and repeatable.</i><br /><i>❂ It should be easy to implement.</i><br /><i>❂ Once it’s written, it should remain for future use.&nbsp;</i><br /><i>❂ Anyone should be able to run it.</i><br /><i>❂ It should run at the push of a button.</i><br /><i>❂ It should run quickly.</i><br /><i><br /></i><i>These are the FICC properties: fast, isolated, configuration-free, and consistent. If it’s hard to write such a test, or it takes a long time to write it, the system isn’t testable.</i><br /><i><br /></i>Противоречие между инкапсуляцией и тестируемостью решается очень легко:<br /><i>Some people feel that opening up the design to make it more testable is a bad thing because it hurts the object-oriented principles the design is based on. I can wholeheartedly say to those people, “Don’t be silly.” Object-oriented techniques are there to enforce some constraints on the end user of the API (the end user being the programmer who will use your object model) so that the object model is used properly and is protected from unforeseen ways of usage. Object orientation also has a lot to do with reuse of code and the single-responsibility principle (which requires that each class has only a single responsibility). When we write unit tests for our code, we are adding another end user (the test) to the object model. That end user is just as important as the original one, but it has different goals when using the model.&nbsp;</i><br /><i><br /></i>Ну и, в заключение, совет от Мастера:&nbsp;<i>Finally, as a friend once said, a good bottle of vodka never hurts when dealing with legacy code</i>.</div>