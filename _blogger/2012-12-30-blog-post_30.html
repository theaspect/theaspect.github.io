---
layout: post
title: Хроники кровавого ынтырпрайза
date: '2012-12-30T14:57:00.000+07:00'
author: Constantine Linnick
tags:
- боль
- development
modified_time: '2014-04-10T15:47:19.710+07:00'
blogger_id: tag:blogger.com,1999:blog-372595778394672936.post-764238231267425518
blogger_orig_url: http://blog.blzr.me/2012/12/blog-post_30.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both; text-align: center;"><a href="http://farm3.staticflickr.com/2482/3592960452_90656305a7.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="320" src="http://farm3.staticflickr.com/2482/3592960452_90656305a7.jpg" width="320" /></a></div>Началось всё с того, что я не умею говорить нет. Хроника восстановлена по переписке, и, надеюсь, это больше никогда не повторится, хотя кто-то этим живет. Главные действующие лица: Я (исполнитель), И. (представитель заказчика), Р. (разработчики <a href="http://www.iiko.ru/">iiko</a>), Н. (начальство И.). Все общение растянулось на 64 письма, неизвестное количество телефонных звонков и 9 месяцев, начиная с апреля 2012 года.<br /><br /><a name='more'></a><h4 style="text-align: left;">Апрель</h4><br />Началось всё с того, что мне прислали на экспертизу ТЗ, суть которого заключалась в автоматизации обмена данными между двумя системами: из внешнего FTP на iiko необходимо перегружать дисконтные карты со скидками, а в обратную сторону - лог транзакций по этим карточкам. Всё это должно было выполняться каждую ночь. У нас на работе началась весулуха и я сослался на занятость.<br /><br /><h4 style="text-align: left;">Май</h4>По полученному ТЗ обмен было совершенно невозможно написать, и я написал кучу вопросов и затребовал сумму в пять раз большую. По заданным вопросам началась переписка между И. и Р. Причем Р. привели пример выгрузки данных, стандартной возможности загрузки данных не было. Необходимого интерфейса не оказалось и было принято решение работать через apache.http.Что самое смешное, java разработчики этого монстра не осилили аплоад файлов и для загрузки нужно было указывать в <b>текстовом</b> поле путь к файлу <b>на сервере</b>.<br /><br />Даже просто поставить правильный вопрос - это весьма нетривиальная задача, не говоря про загрузку данных в систему, про которую ничего не знеашь и никогда не видел. К концу мая я таки запросил сохраненные через браузер страницы, на которых происходит загрузка файлов, чтобы хотя бы узнать названия полей и примерный URL. В этот момент я согласился на всего лишь в два раза большую сумму, чем исходная, и оценил срок в 2 недели. В этот момент с И. произошла чудесная метаморфоза - он пропал. Видимо,он посчитал, что дело сделано и можно <strike>снимать порчу</strike> писать код по фотографии.<br /><br /><h4 style="text-align: left;">Июнь </h4>Бегать за заказчиком я не собирался и, в итоге, ограничился концептом. Весь июнь И. пытался организовать мне удаленный доступ, раз в неделю переспрашивая и уточняя что именно мне нужно. Предложив очередную идею, он снова пропадал. В конце июня у него родилась идея дать мне дистрибутив, чтобы я смог протестировать написанное. Это, безусловно, сработало потому, что с его стороны для этого ничего не нужно было делать.<br /><br />То, как я ставил этого монстра будет еще долго преследовать меня в кошмарах. Многогигабайтная мешанина из технологий: от JSP на сервере - до WPF на клиентах, BDE и MS SQL Server, куча всяких либ. Спустя пару часов всё это дело поставилось и... не запустилось. Увидев в процессе tomcat, полез смотреть его логи - вывалился какой-то невнятный стектрейс про проблемы коннекта к базе. После того, как я описал И. проблему, он скинул мне аккаунт во внутренний KB, где для решения проблемы предлагалось скачать гуй к MSSQL и ручками пересоздать базу. Качать толстый гуй на моём трижэ не было никакой возможности, поэтому пришлось вспоминать как конектиться к серверу через консоль (еще с универа помнил, что там какие-то хитрые имена у инстансов БД). Наконец всё это взлетело и мы начали по телефону настраивать тестовую конфигурацию.<br /><h4 style="text-align: left;">Июль</h4>За пару часов обмен был приведен в рабочее состояние и демка была выслана для тестирования, а пробная версия iiko была удалена как страшный сон.<br /><h4 style="text-align: left;">Август</h4><div style="text-align: left;">В конце августа я позвонил И. с вопросом: где деньги Зин? Оказалось что, товарищ увольняется, но проект ему нужно сдать, но программу он еще не тестировал.</div><h4 style="text-align: left;">Сентябрь</h4><div style="text-align: left;">Обмен таки протестировали, но он не заводился. И. начал работу по перечислению мне предоплаты.</div><h4 style="text-align: left;">Октябрь</h4><div style="text-align: left;">По логам удалось отследить проблему, вторая проблема оказалась с конфигурацией.</div><h4 style="text-align: left;">Ноябрь</h4><div style="text-align: left;">Программа протестирована и одобрена, продолжаются работы по перечислению мне предоплаты. Несколько раз И. спрашивал, не получил-ли я деньги, после чего я тратил один код от телебанка, чтобы сказать нет. Затем оказалось, что им нужен ИНН, неделю спустя И. поинтересовался, нет ли у меня Сберовской карты, на что получил довольно резкий ответ.</div><h4 style="text-align: left;">Декабрь</h4><div style="text-align: left;">Вухуу, я получил предоплату.</div><h4 style="text-align: left;">Мораль</h4><div style="text-align: left;">Когда всем на всё на**ать а вокруг необязательные рас***дяи, то работа, которую можно выполнить за выходные растягивается на 8 месяцев и остается недоделанной. Судя по всему текущего уровня полуавтоматизации достаточно. Результат помещён в <a href="https://bitbucket.org/theaspect/exchanger">музей</a> в назидание.</div></div>