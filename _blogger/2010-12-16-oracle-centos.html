---
layout: post
title: Поднимаем Oracle в CentOS
date: '2010-12-16T12:00:00.000+06:00'
author: Constantine Linnick
tags:
- development
modified_time: '2014-04-10T15:46:23.612+07:00'
blogger_id: tag:blogger.com,1999:blog-372595778394672936.post-1161783343101970137
blogger_orig_url: http://blog.blzr.me/2010/12/oracle-centos.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">0. Инструкция для <a href="https://fedorahosted.org/spacewalk/wiki/OracleXeSetup">OracleXE</a><br />1. качаем <a href="http://ftp.osuosl.org/pub/centos/5.5/isos/x86_64/">образ</a><br />2. качаем <a href="http://www.pendrivelinux.com/install-fedora-9-to-a-flash-drive-using-windows/">pendrivelinux</a><br />3. заливаем образ на флешку<br />4. загружаемся и выбираем network installation<br />5. адрес<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; mirror.yandex.ru<br />&nbsp;&nbsp;&nbsp; /centos/5.5/os/x86_64</span><br />6. набор пакетов <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">server GUI</span><br />7. ставим пакеты:<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; yum install mc<br />&nbsp;&nbsp;&nbsp; yum install libaio-devel<br />&nbsp;&nbsp;&nbsp; yum install unixODBC-devel<br />&nbsp;&nbsp;&nbsp; yum install pdksh</span>7. Создаем пользователя и добавляем его в sudoers<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; useradd oracle<br />&nbsp;&nbsp;&nbsp; passwd oracle<br />&nbsp;&nbsp;&nbsp; visudo:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oracle ALL=(ALL) ALL</span>8. логинимся из под oracle<br />9. Oracle validated<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; wget http://oss.oracle.com/el5/RPM-GPG-KEY-oracle (http://clck.ru/1c5g)<br />&nbsp;&nbsp;&nbsp; rpm --import RPM-GPG-KEY-oracle<br />&nbsp;&nbsp;&nbsp; wget http://oss.oracle.com/el5/oracle-validated/oracle-validated-1.0.0-22.el5.x86_64.rpm (http://clck.ru/1c4i)<br />&nbsp;&nbsp;&nbsp; yum install oracle-validated-1.0.0-22.el5.x86_64.rpm<br />10. Tomcat<br />&nbsp;&nbsp;&nbsp; wget http://www.sai.msu.su/apache//tomcat/tomcat-6/v6.0.29/bin/apache-tomcat-6.0.29.zip (http://clck.ru/1e_b)<br />&nbsp;&nbsp;&nbsp; unzip apache-tomcat-6.0.29.zip</span>11. Java<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; wget http://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/VerifyItem-Start/jdk-6u21-linux-x64.bin?BundledLineItemUUID=6s2J_hCvUuYAAAErqyspGzz6&amp;OrderID=ge6J_hCvZAAAAAErkyspGzz6&amp;ProductID=xKiJ_hCySHIAAAEpT7wzBGsB&amp;FileName=/jdk-6u21-linux-x64.bin (http://clck.ru/1e_d)<br />&nbsp;&nbsp;&nbsp; mv jdk&lt;tab&gt; jdk<br />&nbsp;&nbsp;&nbsp; chmod +x jdk<br />&nbsp;&nbsp;&nbsp; ./jdk</span>12. по sftp заливаем оракл, проверяем контрольные суммы и распаковываем<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; cksum linux&lt;tab&gt;1of2.zip<br />&nbsp;&nbsp;&nbsp; cksum linux&lt;tab&gt;2of2.zip<br />&nbsp;&nbsp;&nbsp; unzip linux&lt;tab&gt;1of2.zip<br />&nbsp;&nbsp;&nbsp; unzip linux&lt;tab&gt;2of2.zip</span>13. Директории<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; mkdir ora11<br />&nbsp;&nbsp;&nbsp; mkdir oradb<br />&nbsp;&nbsp;&nbsp; mkdir orainv</span>10. возможно изменяем размер shm<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; /etc/fstab<br />&nbsp;&nbsp;&nbsp; tmpfs size=6G</span><br />11. убиваем <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">selinux=disabled</span> в файл <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">/etc/selinux/config</span><br />12. заходим в гуй и открываем терминал<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; startx</span><br />13. ставим бинарники<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; ./database/runInstaller<br />&nbsp;&nbsp;&nbsp; - db only<br />&nbsp;&nbsp;&nbsp; - single<br />&nbsp;&nbsp;&nbsp; - rus+eng<br />&nbsp;&nbsp;&nbsp; - standart<br />&nbsp;&nbsp;&nbsp; - base : oradb location : ora11<br />&nbsp;&nbsp;&nbsp; - orainv<br />&nbsp;&nbsp;&nbsp; -<br />&nbsp;&nbsp;&nbsp; -<br />&nbsp;&nbsp;&nbsp; - sudo ~/orainv/orainstRoot.sh<br />&nbsp;&nbsp;&nbsp; - sudo ~/ora11/root.sh</span><br />14. поднимаем Listener<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; ~/ora11/bin/netca</span><br />15. развертываем базу<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; ~/ora11/bin/dbca<br />&nbsp;&nbsp;&nbsp; - create<br />&nbsp;&nbsp;&nbsp; - general<br />&nbsp;&nbsp;&nbsp; - xe<br />&nbsp;&nbsp;&nbsp; -<br />&nbsp;&nbsp;&nbsp; - ********<br />&nbsp;&nbsp;&nbsp; -<br />&nbsp;&nbsp;&nbsp; -<br />&nbsp;&nbsp;&nbsp; -<br />&nbsp;&nbsp;&nbsp; -memory: 6144; processes: 500; characterset: CL8MSWIN1251</span>16. копируем файл настроек<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; cp ~/oradb/admin/xe/pfile/init.ora&lt;tab&gt;</span><br />17. Стартуем базу<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; lsnrctl start<br />&nbsp;&nbsp;&nbsp; sqlplus<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; startup</span><br />18. Заливаем в томкат необходимые либы и прописываем <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">JAVA_HOME</span><br />19. Автоматический запуск сервисов<br /><br /><h3 style="text-align: left;">Ставим rlwrap</h3><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">alias sqlp='rlwrap -f ~/.sqlplus sqlplus'</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">http://rpm.pbone.net/index.php3/stat/4/idpl/14484249/dir/redhat_el_5/com/rlwrap-0.37-1.el5.x86_64.rpm.html</span><br /><h4 style="text-align: left;">Словарь</h4><pre>COPY PAUSE SHUTDOWN<br />DEFINE PRINT SPOOL<br />DEL PROMPT SQLPLUS<br />ACCEPT DESCRIBE QUIT START<br />APPEND DISCONNECT RECOVER STARTUP<br />ARCHIVE LOG EDIT REMARK STORE<br />ATTRIBUTE EXECUTE REPFOOTER TIMING<br />BREAK EXIT REPHEADER TTITLE<br />BTITLE GET RESERVED UNDEFINE<br />CHANGE HELP RESERVED VARIABLE<br />CLEAR HOST RUN WHENEVER<br />copy pause shutdown<br />define print spool<br />del prompt sqlplus<br />accept describe quit start<br />append disconnect recover startup<br />archive log edit remark store<br />attribute execute repfooter timing<br />break exit repheader ttitle<br />btitle get reserved undefine<br />change help reserved variable<br />clear host run whenever<br />ALL ALTER AND ANY ARRAY ARROW AS ASC AT<br />BEGIN BETWEEN BY<br />CASE CHECK CLUSTERS CLUSTER COLAUTH COLUMNS COMPRESS CONNECT CRASH CREATE CURRENT<br />DECIMAL DECLARE DEFAULT DELETE DESC DISTINCT DROP<br />ELSE END EXCEPTION EXCLUSIVE EXISTS<br />FETCH FORM FOR FROM<br />GOTO GRANT GROUP<br />HAVING<br />IDENTIFIED IF IN INDEXES INDEX INSERT INTERSECT INTO IS<br />LIKE LOCK<br />MINUS MODE<br />NOCOMPRESS NOT NOWAIT NULL<br />OF ON OPTION OR ORDEROVERLAPS<br />PRIOR PROCEDURE PUBLIC<br />RANGE RECORD RESOURCE REVOKE<br />SELECT SHARE SIZE SQL START SUBTYPE<br />TABAUTH TABLE THEN TO TYPE<br />UNION UNIQUE UPDATE USE<br />VALUES VIEW VIEWS<br />WHEN WHERE WITH<br />all alter and any array arrow as asc at<br />begin between by<br />case check clusters cluster colauth columns compress connect crash create current<br />decimal declare default delete desc distinct drop<br />else end exception exclusive exists<br />fetch form for from<br />goto grant group<br />having<br />identified if in indexes index insert intersect into is<br />like lock<br />minus mode<br />nocompress not nowait null<br />of on option or orderoverlaps<br />prior procedure public<br />range record resource revoke<br />select share size sql start subtype<br />tabauth table then to type<br />union unique update use<br />values view views<br /></pre></div>