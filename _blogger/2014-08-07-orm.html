---
layout: post
title: Про истинный смысл ORM
date: '2014-08-07T11:07:00.001+07:00'
author: Constantine Linnick
tags:
- работа
- orm
- development
- epiphany
modified_time: '2014-08-07T11:29:15.344+07:00'
blogger_id: tag:blogger.com,1999:blog-372595778394672936.post-4215690736326389624
blogger_orig_url: http://blog.blzr.me/2014/08/orm.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">В программировании есть несколько тем, которые любят объяснять люди не готовые к этому. Мои любимые темы:<br>* <a href="http://blog.blzr.me/2013/02/blog-post_13.html">рекурсия</a> на примере факториала - что за бред <br>* <a href="http://blog.blzr.me/2012/08/blog-post_10.html">тестирование</a> на примере арифметических операций, которое примитивно до невозможности, чтобы объяснить тестирование нужно сначала вкурить SOLID и рассмастривать сложные примеры близкие к реальности<br>* ООП на примере калькулятора - не надо натягивать сову на глобус, или графических фигур - чуть лучше, но неопытный объяснятель может не знать про LSP и рано или поздно скатывается в проблему <a href="https://www.google.com/search?q=%D0%BD%D0%B0%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5+%D1%80%D0%BE%D0%BC%D0%B1+%D0%BA%D0%B2%D0%B0%D0%B4%D1%80%D0%B0%D1%82">квадрата-ромба</a>. Еще одним открытием может стать <a href="https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BB%D0%B8%D0%BC%D0%BE%D1%80%D1%84%D0%B8%D0%B7%D0%BC_%28%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%29#.D0.92.D0.B8.D0.B4.D1.8B_.D0.BF.D0.BE.D0.BB.D0.B8.D0.BC.D0.BE.D1.80.D1.84.D0.B8.D0.B7.D0.BC.D0.B0">множество</a> видов полиморфизма. Чтобы объяснить параметрический полиморфизм, нужно сначала понять обобщенное программирование. Проблема курицы и яйца. Сюда же rich vs anemic, AOP и другие вопросы.<br>* Что-то мне подсказывает что большая часть статей про монады объясняют совсем не то что нужно.<br><br>Недавно меня накрыло на тему ORM. Главной причиной всех танцев с абстракцией от БД подается возможность легко заменить базу данных. Что?! За?! Бред?! За все годы работы я видел две смены БД в проекте: с Oracle 9 переехали на Oracle 10 XE, а с MySQL переехали на MariaDB. Под этим флагом идет безнадежная борьба за чистоту запросов: только JPQL/HQL, скажем нет нативным запросам. Вдруг мы захотим сменить БД. К сожалению, рано или поздно наступает момент, когда выразить запрос средствами ORM становится невозможно, либо он достигает совсем неприличных размеров и, скрепя сердце и зажмурившись, программист пишет нативный SQL.<br><br>Внезапно все меняется, если посмотреть на ORM как на оптимизатор рутиного CRUD-а и не более. Если для сложной выборки быстрее написать SQL, то не нужно <a href="http://blog.blzr.me/2013/12/blog-post_8.html">мучить</a> ORM, рядом можно нарисовать DTO-шку, чтобы ORM закинул в него данные. Пуристы забывают про то что это нужно для экономии времени и сокращения количества ошибок в программе со 100500 формочками. Время машины стало дешевле времени человека и мы можем себе позволить неэффективность в маленькой области, выигрывая в целом.</div>